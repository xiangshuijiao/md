
* [Account、Password](#accountpassword)
* [Autohotkey](#autohotkey)
* [BOIS](#bois)
* [C](#c)
* [Chinese 乱码](#chinese-%E4%B9%B1%E7%A0%81)
* [CSDN跳转首页](#csdn%E8%B7%B3%E8%BD%AC%E9%A6%96%E9%A1%B5)
* [Docker](#docker)
  * [<a href="https://blog\.csdn\.net/BigData\_Mining/article/details/104921479" rel="nofollow">三种方法修改docker的默认存储位置</a>](#%E4%B8%89%E7%A7%8D%E6%96%B9%E6%B3%95%E4%BF%AE%E6%94%B9docker%E7%9A%84%E9%BB%98%E8%AE%A4%E5%AD%98%E5%82%A8%E4%BD%8D%E7%BD%AE)
  * [<a href="https://blog\.51cto\.com/lidefu/2369147" rel="nofollow">docker资源分配篇</a>](#docker%E8%B5%84%E6%BA%90%E5%88%86%E9%85%8D%E7%AF%87)
  * [定时执行docker中的脚本](#%E5%AE%9A%E6%97%B6%E6%89%A7%E8%A1%8Cdocker%E4%B8%AD%E7%9A%84%E8%84%9A%E6%9C%AC)
* [Ftp](#ftp)
* [Gerrit](#gerrit)
* [GitLab](#gitlab)
* [Git](#git)
  * [常用命令](#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4)
  * [git 图形化显示](#git-%E5%9B%BE%E5%BD%A2%E5%8C%96%E6%98%BE%E7%A4%BA)
  * [常见问题](#%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98)
  * [解决换行符问题](#%E8%A7%A3%E5%86%B3%E6%8D%A2%E8%A1%8C%E7%AC%A6%E9%97%AE%E9%A2%98)
  * [push注意](#push%E6%B3%A8%E6%84%8F)
  * [git fetch失败](#git-fetch%E5%A4%B1%E8%B4%A5)
  * [git pull、git stash apply冲突](#git-pullgit-stash-apply%E5%86%B2%E7%AA%81)
  * [git stash](#git-stash)
  * [git 加速](#git-%E5%8A%A0%E9%80%9F)
* [Graphviz](#graphviz)
* [Make](#make)
  * [加速编译](#%E5%8A%A0%E9%80%9F%E7%BC%96%E8%AF%91)
* [Menuconfig](#menuconfig)
* [OpenGrok](#opengrok)
* [Samba](#samba)
* [Source insight](#source-insight)
* [Shell](#shell)
* [SSH](#ssh)
  * [<a href="https://segmentfault\.com/a/1190000011289092" rel="nofollow">nohup 解决Linux关闭终端（关闭SSH等）后运行的程序或者服务自动停止【后台运行程序】</a>](#nohup-%E8%A7%A3%E5%86%B3linux%E5%85%B3%E9%97%AD%E7%BB%88%E7%AB%AF%E5%85%B3%E9%97%ADssh%E7%AD%89%E5%90%8E%E8%BF%90%E8%A1%8C%E7%9A%84%E7%A8%8B%E5%BA%8F%E6%88%96%E8%80%85%E6%9C%8D%E5%8A%A1%E8%87%AA%E5%8A%A8%E5%81%9C%E6%AD%A2%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C%E7%A8%8B%E5%BA%8F)
  * [SSH 显示图形化界面](#ssh-%E6%98%BE%E7%A4%BA%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%95%8C%E9%9D%A2)
  * [WinSCP：linux 和电脑互传文件](#winscplinux-%E5%92%8C%E7%94%B5%E8%84%91%E4%BA%92%E4%BC%A0%E6%96%87%E4%BB%B6)
* [TCPDump](#tcpdump)
* [Telnet](#telnet)
* [TFTP](#tftp)
* [Ubuntu](#ubuntu)
  * [查看当前目录下各个文件、文件夹大小](#%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E7%9B%AE%E5%BD%95%E4%B8%8B%E5%90%84%E4%B8%AA%E6%96%87%E4%BB%B6%E6%96%87%E4%BB%B6%E5%A4%B9%E5%A4%A7%E5%B0%8F)
  * [查看端口占用](#%E6%9F%A5%E7%9C%8B%E7%AB%AF%E5%8F%A3%E5%8D%A0%E7%94%A8)
  * [查看ID对应进程](#%E6%9F%A5%E7%9C%8Bid%E5%AF%B9%E5%BA%94%E8%BF%9B%E7%A8%8B)
  * [终端颜色配置](#%E7%BB%88%E7%AB%AF%E9%A2%9C%E8%89%B2%E9%85%8D%E7%BD%AE)
  * [Ubuntu1804开机启动](#ubuntu1804%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8)
  * [定时任务脚本](#%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E8%84%9A%E6%9C%AC)
  * [Archer T9E网卡驱动安装](#archer-t9e%E7%BD%91%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%AE%89%E8%A3%85)
  * [重装系统](#%E9%87%8D%E8%A3%85%E7%B3%BB%E7%BB%9F)
  * [终端切换其他用户su \- 用户名](#%E7%BB%88%E7%AB%AF%E5%88%87%E6%8D%A2%E5%85%B6%E4%BB%96%E7%94%A8%E6%88%B7su---%E7%94%A8%E6%88%B7%E5%90%8D)
  * [网络分析工具](#%E7%BD%91%E7%BB%9C%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7)
  * [查看实时变化的文件tail \-f](#%E6%9F%A5%E7%9C%8B%E5%AE%9E%E6%97%B6%E5%8F%98%E5%8C%96%E7%9A%84%E6%96%87%E4%BB%B6tail--f)
* [Vim](#vim)
* [VMware Station](#vmware-station)
  * [虚拟机和主机之间不能复制粘贴](#%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%92%8C%E4%B8%BB%E6%9C%BA%E4%B9%8B%E9%97%B4%E4%B8%8D%E8%83%BD%E5%A4%8D%E5%88%B6%E7%B2%98%E8%B4%B4)
* [Win10](#win10)
  * [防火墙](#%E9%98%B2%E7%81%AB%E5%A2%99)
  * [双网卡](#%E5%8F%8C%E7%BD%91%E5%8D%A1)
  * [查看进程启动时的参数](#%E6%9F%A5%E7%9C%8B%E8%BF%9B%E7%A8%8B%E5%90%AF%E5%8A%A8%E6%97%B6%E7%9A%84%E5%8F%82%E6%95%B0)
* [Xmind](#xmind)

Created by [gh-md-toc](https://github.com/ekalinin/github-markdown-toc.go)
------------------分隔符------------------不要删除------------------分隔符------------------不要删除------------------分隔符------------------

## Account、Password

* ```c
  jiangkainan@tp-link.com.cn
  Y0nN1uWqDCsi
      
  \\software.tp-link.net（账号：tplink，密码为空）
  \\exfile.tp-link.net
  \\file.tp-link.net
  ftp://pubftp.tp-link.net
  ftp://ftp.tp-link.net
  ftp://labpub.tp-link.net/
  ```
## Autohotkey

[快速参考](https://wyagd001.github.io/zh-cn/docs/AutoHotkey.htm)

[热键之组合键与序列键](https://www.autohotkey.com/boards/viewtopic.php?f=29&t=4287&sid=d1b2b755f96812f26b2226fb21b4ca35)

[autohotkey是不是在某些程序（像excel2013)中无效?](https://www.zhihu.com/question/36233023?from=profile_question_card)

*   如果autohotkey脚本在Snipaste、everything等部分软件中不生效，肯定是因为没有用管理员权限运行autohotkey脚本.
*   `找到AutoHotkey.exe`->`右键`->`属性`->`默认管理员权限运行`即可

[调试方法](https://wyagd001.github.io/zh-cn/docs/AHKL_DBGPClients.htm)

[autohotkey如何查看键值 vk码/sc码](https://jingyan.baidu.com/article/219f4bf7f504e0de452d3855.html)

*   `右击脚本图标`->`“open”`->`view`->`“key history and script info”`->`确保“key hook”为“yes”`->`随意在键盘上按键，如：我按“k”`->`然后，按“F5刷新”`->`可以在最下面看到，“k”的vk码为 4B，sc码为025`

**远程桌面问题**

*   不能使用本地电脑的快捷键解决方法
    *   [键盘快捷方式以最小化远程桌面](https://qastack.cn/superuser/207534/keyboard-shortcut-to-minimize-remote-desktop)     [英文版链接](https://superuser.com/questions/207534/keyboard-shortcut-to-minimize-remote-desktop)
    *   [Windows 10：在全屏远程桌面中切换虚拟桌面](https://qastack.cn/superuser/1046767/windows-10-switch-virtual-deskop-while-in-fullscreen-remote-desktop)      [英文版链接](https://superuser.com/questions/1046767/windows-10-switch-virtual-deskop-while-in-fullscreen-remote-desktop/1179088#1179088)
    *   对我而言起作用的方法：**`关闭远程桌面`->`点击远程桌面图标`->`显示选项`->`本地资源`->`键盘`->`应用windows组合键`->`在这台计算机上`**
*   远程桌面在第二个显示器上全屏后，使用#1显示隐藏远程桌面时总是会将远程桌面显示在主屏幕上
    *   解决方法：关闭远程桌面，在第二个显示器上重新连接远程桌面即可
*   **注意**：远程桌面的高级配置中可以配置的选项有：`组合键是否应用于远程桌面`、`远程桌面显示的大小`、`是否播放远程桌面音频`、`是否显示连接栏`等高级选项

开机启动失败解决方法

*   方法1（已测试失败不能用）

    ```
    找到快捷方式：
    C:\ProgramData\Microsoft\Windows\Start Menu\Programs\AutoHotkey\AutoHotkey
    右键->属性->快捷方式->目标修改为如下：
    "C:\Program Files\AutoHotkey\AutoHotkey.exe" "D:\Documents\4-Green Softwore\autohotkey.ahk"
    快捷方式->高级中勾选以管理员权限运行
    兼容性勾选以管理员权限运行
    快捷方式复制到启动菜单：
    C:\Users\admin\AppData\Roaming\Microsoft\Windows\Start Menu\Programs\Startup
    重启测试
    ```

*   方法2（经测试成功）

    ```
    找到AutoHotkey.exe，右键->属性->默认管理员权限运行
    右键我的电脑->管理->系统工具->任务计划程序->创建任务
    常规一栏：勾选只在用户登录时运行、勾选使用最高权限运行、配置中选择windows 10
    触发器：新建->登录时触发（不要选启动时触发,自测该选项不能重启运行软件）
    操作：
    新建->启动程序
    程序或脚本中输入"C:\Program Files\AutoHotkey\AutoHotkey.exe"
    添加参数中输入"D:\Documents\4-Green Softwore\autohotkey.ahk"
    条件：只勾选唤醒计算机运行此任务，其他都不选
    设置：保持默认
    测试：
    可以先右键运行实例进行测试，然后开机启动进行测试
    ```

## BOIS

[GIGABYTE 技嘉主板进不了 BIOS 的解决方案](https://blog.csdn.net/chy555chy/article/details/86132151)。实测可用：`正常关机后，长按开机按钮10秒，电脑会自动开机再关机。然后你再开机狂按Del键，就能进BIOS了。`



## C

* 链接符号
  * void fun(double x);
  * C：`_fun`
  * C++：`_fun_double`，将类型也加入到链接符号里面是C++能够实现函数重载的原因。
* [`#ifdef 0` 报错 `宏名称必须是标识符`，改为 `#if 0`即可](https://mlog.club/article/95750)
* 写入stderr的数据没有输出：进程变为deamon守护进程。[daemon函数的原理及使用详解](https://www.cnblogs.com/fnlingnzb-learner/p/6743336.html)
* insmod失败后可以用dmesg排错 [insmod: ERROR: could not insert module xxx.ko: Operation not permitted](https://blog.csdn.net/SweeNeil/article/details/88253973)


## Chinese 乱码

[中文乱码恢复](https://www.cnblogs.com/zhaoyue1215/p/10170500.html)里面的java代码可以放到[菜鸟工具](https://c.runoob.com/compile/10)里面在线运行使用

```
示例中对<浣犲ソ>解码的结果如下,那么
1. 将notepad++以GBK的编码格式打开
2. 将乱码的文本拷贝进去
3. 将编码转换为utf-8即可得到正常的文本
    假设当前编码       假设原始编码          编码后的内容
    GBK            |   UTF-8           |     你好
```

## CSDN跳转首页

* CSDN跳转首页：`搜索onerror，删除掉一个《img src=“” onerror= “”》标签即可`


## Docker

* 新docker调教

  * 使用自己导出的镜像` 2020-9-30-153630-docker-image.tar`

    ~~`chmod 777 -R 项目文件夹`~~：这条命令最好不要使用，否则git pull时会有很多模式改变的文件没有保存导致pull失败

    ```c
    //通用
    	docker run --dns 172.31.1.1 -p 50001:22 -it -v  /home/bba/PON_trunk_bba_2_5:/opt/bba -v /home/share_data_folder:/opt/share_data_folder --name "PON_trunk_bba_2_5" -v /etc/localtime:/etc/localtime:ro jiang:kainan /bin/bash 
        vim ~/.bashrc
            修改项目目录
            添加 export DISPLAY=192.168.137.1:0.0
        dpkg-reconfigure tzdata // 同步时间 Asia->Shanghai
        exit退出容器进入主机编辑`/etc/rc.local`脚本开自启容器
        docker restart 容器名
          
        git config --add core.filemode false // 忽略文件模式变化
        
    ```
  
* 使用c20sp.tar镜像
  
    ~~`chmod 777 -R 项目文件夹`~~：这条命令最好不要使用，否则git pull时会有很多模式改变的文件没有保存导致pull失败
    
    ```c++
    //通用
    	docker run --dns 172.31.1.1 -p 50001:22 -it -v  /home/bba/ex220:/opt/bba -v /home/bba/docker:/opt/docker --name "ex220" jiang:kainan /bin/bash 
        apt update && apt install openssh-server
        vim /etc/ssh/sshd_config//将PermitRootLogin的值从withoutPassword改为yes
        service ssh restart # 重启动ssh服务
        vim ~/.bashrc
            行尾添加：
            cd /opt/bba/项目名  && PS1="\[\e[31;47m\][\w]\\$\[\e[0m\]" && /etc/init.d/ssh restart 
            export LANG="zh_CN.UTF-8" && eval `ssh-agent` && ssh-add
        passwd root
        rm -rf /opt/buildroot*  /opt/trendchip
    // 中文支持
        apt install language-pack-zh-hans
        vim /etc/environment
            行尾添加：
            LANG="zh_CN.UTF-8"
    		LANGUAGE="zh_CN:zh:en_US:en"
        touch /var/lib/locales/supported.d/local && vim /var/lib/locales/supported.d/local
            行尾添加：
            en_US.UTF-8 UTF-8
            zh_CN.UTF-8 UTF-8
            zh_CN.GBK GBK
            zh_CN GB2312
        locale-gen 
        export LANG="zh_CN.UTF-8"
    // ssh秘钥拷贝   
        apt install git // 升级git
        apt install bash-completion -y //自动补全，需要重新打开bash窗口
        真机中执行：
            cp -rf ~/.ssh/ /home/bba/自己的项目名/BBA_2_5_Platform_BCM/
        docker中执行：
            rm -rf ~/.ssh
            mv ./.ssh/ ~/
            chmod 000 /root/.ssh/id_rsa
            chmod 000 /root/.ssh/config
            eval `ssh-agent` && ssh-add
            git pull // 验证
        git config --global user.email "jiangkainan@tp-link.com.cn"
        git config --global user.name "jiangkainan"
            
        
    //xc420 xc220
    	apt install locate dos2unix lib32readline6-dev  && updatedb
    	ln -s /usr/lib32/libreadline.so /usr/lib/libreadline.so.4  && ln -s /usr/bin/perl /usr/local/bin/perl
    	进入 apps/public/libusb-1.0.8 执行 autoreconf -fiv
    	// error while loading shared libraries: /usr/lib/libtermcap.so.2 
    		先编译env解压出交叉编译工具
            locate libncurses.so
    		ln -s /opt/trendchip/mips-linux-glibc-4.6.3/usr/lib/libncurses.so /usr/lib/libtermcap.so.2
        // aclocal-1.11: command not found
            locate /bin/aclocal
            链接到/usr/local/bin/aclocal-1.11 /usr/local/bin/aclocal-1.15
        // fakeroot: preload library not found, aborting.
            locate libfakeroot.so
            ln -s /opt/trendchip/mips-linux-glibc-4.6.3/usr/lib/libfakeroot.so /usr/lib/
    
    ```
  
* 镜像的导出与导入

  * 注意：
    * 保存镜像时会包含history历史提交记录，所以比较大
  * `docker save -o jiang_kainan_image.tar jiang:kainan(镜像名)`
  * `docker load --input jiang_kainan_image.tar`
  * `docker images、docker history`

* 容器的导出与导入：**推荐**

  * 注意：
    * 导出容器时不会包含history历史提交记录，所以比较小
    * 在导入容器时会自动生成一个全新的镜像

  * `docker export -o docker_xc420.tar ex220(容器名)`
  * `docker import -m "中文支持、源码编译最新版git、配置git的ssh秘钥、ssh服务器" jiang_kainan_docker.tar jiang:kainan`
  * `docker images、docker history`

* command

  * `docker tag 镜像id 仓库名:标签名`  修改仓库名、标签名
  * `docker ps -a`：所有容器，`docker ps`：正在运行中的容器，
  * `docker rm/rmi  id`删除容器/镜像
  * `docker start <HASH>或容器名`
  * `docker attach <HASH>`
  * `exit`会关闭容器` CTRL+P CTRL+Q `不会关闭容器
  * `docker rename archerc5 aa`容器重命名

* commit

  * `docker commit -a "提交的镜像作者" -m "提交时的说明文字"  容器名  仓库名:标签 `
  * `docker history 镜像id前3位`

* 网络

  * `docker network create --subnet=192.168.5.0/24 static_network`
  * `docker network ls``
  
* 时间问题

    * [Docker容器时间跟主机时间保持同步的操作记录](https://www.cnblogs.com/kevingrace/p/5570597.html)
    * [opengrok搭建时使用命令`dpkg-reconfigure tzdata`然后选择`Asia->Shanghai`解决时间戳问题](https://class.pub/blog/post/haiyang/34-x)

* 修改容器配置

  * ```markdown
    0. `docker inspect 容器名`  查看容器配置
    1. `docker stop`关闭所有容器
    2. `systemctl stop docker.service`关闭容器服务
    3. `vim /var/lib/docker/containers/ID/config.v2.json` 修改容器配置文件
    4. `systemctl start docker.service`打开容器服务，启动容器，env命令查看环境变量是否修改成功
    5. `docker inspect 容器名`  查看容器配置是否修改成功
    ```
  
* 问题：

  ```c
  FATA[0000] Error response from daemon: Cannot start container eb92657ef5f6471d0440e445034b705b7cd191a40817fb638da5f5f4bf83846e: [8] System error: mountpoint for devices not found
  ```

  ```c
  解决：
     这是Ubuntu1404特有的问题，Ubuntu1604就不会出现这个问题，所以换系统吧
  ```

### [三种方法修改docker的默认存储位置](https://blog.csdn.net/BigData_Mining/article/details/104921479)

### [docker资源分配篇](https://blog.51cto.com/lidefu/2369147)

`docker stats 容器名 `可以查看容器运行时占用的CPU、内存等资源

### 定时执行docker中的脚本

编辑宿主机的`/etc/crontab`文件添加如下内容`0 20  * * * root  docker exec opengrok /scripts/index.sh >> /tmp/opengrok.log`

## Ftp

* **每次连接服务器都要输入binary**，用二进制传输文件，否则默认用文本格式传输文件


## Gerrit

* 服务器搭建和使用

  * [docker笔记4--配置gerrit【使用docker安装gerrit】](https://blog.csdn.net/u011127242/article/details/79966978)

  * [Gerrit添加已存在的Git项目](https://blog.csdn.net/zbc415766331/article/details/82663291)

  * [Nginx（三）------nginx 反向代理](https://www.cnblogs.com/ysocean/p/9392908.html)

  * 注意事项

    * SMTP是邮箱服务器，所以相关配置项都可以不用

    * 8091是gerrit映射后的端口，8081是nginx端口，nginx的配置文件指定了要代理主机的8091端口

    * 必须配置nginx的原因在文档是有说明的

    * gerrit.config的配置修改为：`canonicalWebUrl = http://yourIP:8091/`   `listenUrl = http://*:8080/`

    * `default.conf`、`gerrit.passwd`都是自己创建的文件而非文件夹

    * 修改配置后需要重新启动运行gerrit、nginx容器才能让配置生效

    * 运行gerrit、nginx的命令如下

      ```shell
      docker run --name gerrit -v /home/gerrit/gerrit_volume/:/var/gerrit/review_site/ -p 8091:8080 -p 29418:29418 -e USER_NAME=jiangkainan -e USER_EMAIL=jiangkainan@tp-link.com.cn -e AUTH_TYPE=HTTP -d openfrontier/gerrit # 运行gerrit
      docker run -p 90:80 -p 8081:8081 --name nginx -v /home/nginx/default.conf:/etc/nginx/conf.d/default.conf -v /home/nginx/htpasswd/gerrit.passwd:/etc/nginx/conf.d/gerrit.passwd -d nginx  #运行nginx
      ```

* push问题

  ```c
  [/home/bba/ex220/BBA_2_5_Platform_BCM]#git push origin HEAD:refs/for/VX220-mesh
  对象计数中: 8, 完成.
  Delta compression using up to 6 threads.
  压缩对象中: 100% (8/8), 完成.
  写入对象中: 100% (8/8), 790 bytes | 790.00 KiB/s, 完成.
  Total 8 (delta 5), reused 0 (delta 0)
  remote: Resolving deltas: 100% (5/5)
  remote: Counting objects: 296400, done
  remote: Processing changes: refs: 1, done    
  remote: ERROR: missing Change-Id in commit message footer
  remote: 
  remote: Hint: To automatically insert Change-Id, install the hook:
  remote:   gitdir=$(git rev-parse --git-dir); scp -p -P 29418 jiangkainan@172.29.88.140:hooks/commit-msg ${gitdir}/hooks/
  remote: And then amend the commit:
  remote:   git commit --amend
  remote: 
  To ssh://172.29.88.140:29418/BBA_2_5_Platform_BCM
   ! [remote rejected]     HEAD -> refs/for/VX220-mesh (missing Change-Id in commit message footer)
  error: 无法推送一些引用到 'ssh://jiangkainan@172.29.88.140:29418/BBA_2_5_Platform_BCM'
  ```

  ```c
  在gerrit网页中找到clone项目的命令：
      git clone ssh://jiangkainan@172.29.88.140:29418/BBA_2_5_Platform_BCM && scp -p -P 29418 jiangkainan@172.29.88.140:hooks/commit-msg BBA_2_5_Platform_BCM/.git/hooks/
  执行后面的命令，注意将目录BBA_2_5_Platform_BCM换成.
      scp -p -P 29418 jiangkainan@172.29.88.140:hooks/commit-msg ./.git/hooks/
  重新提交并push：
      git commit --amend
      git push origin HEAD:refs/for/VX220-mesh
  ```

## GitLab

*   [使用Docker安装GitLab](https://segmentfault.com/a/1190000021593151)

    ```shell
    mkdir -p /home/gitlab/config /home/gitlab/logs /home/gitlab/data
    docker run -p 9000:443 -p 9001:80 -p 9002:22 --name gitlab -v /home/gitlab/config/:/etc/gitlab -v /home/gitlab/logs/:/var/log/gitlab -v /home/gitlab/data/:/var/opt/gitlab -d gitlab/gitlab-ce 
    访问页面 IP:9001
    ```

    

*   [【docker】【Gitlab】gitlab中clone项目时，IP地址是一串数字（内网Gitlab的IP地址不正确）的问题解决](https://www.cnblogs.com/sxdcgaq8080/p/10511936.html)

*   [Git使用(二)：本地仓库关联多个远程仓库](https://juejin.im/entry/6844903757356990477)

## Git

### 常用命令

git 常用

* `git log -p filename `查看与文件相关的提交记录，-p参数会显示每次提交的diff

* `git show commit-id filename `只看某次提交的文件变化

* `git commit --amend`

* `git log --name-status`查看提交修改的文件

* `git grep -n “aaa”`显示行号

* `git log  --pretty=tformat: --numstat | awk '{ add += $1; subs += $2; loc += $1 - $2 } END { printf "added lines: %s, removed lines: %s, total lines: %s\n", add, subs, loc }'`统计代码行数

  ```c
  VXadded lines: 94417278, removed lines: 14856429, total lines: 79560849
  ```

* git status显示过多

  ```c
  切换到项目根目录
  git config --add core.filemode false
  git status -uno . | grep -v \\.o$ | grep -v \\.cmd$ | grep -v \\.i$ | grep -v \\.Plo$ | grep -v \\.Po$ | grep -v \\.so$ | grep -v \\.order$| grep -v \\.symvers$ | grep -v \\.ko$ | grep -v \\.mod$ 
  ```

git diff **后面的、工作区、暂存区**

*   ```shell
    git diff 工作区在暂存区的基础上修改了什么
    git diff stash@{0} 工作区在stash的基础上修改了什么
    git diff HEAD 工作区在仓库HEAD的基础上修改了什么
    git diff --cached 暂存区在HEAD的基础上修改了什么
    git diff HEAD stash@{0}暂存区在HEAD的基础上修改了什么// 后面在前面的基础上修改了什么
    git diff HEAD^ HEAD 和上次提交相比，本次提交修改了什么
    ```

git 命令自动补全：`apt install bash-completion -y // 自动补全，需要重新打开bash窗口`

[git 生成patch 和打入patch](https://blog.csdn.net/liuhaomatou/article/details/54410361)

git blame：`git blame 文件名`可以看到每一行最近是由谁更改的

git 只显示add的文件：`git diff --cached --stat`

git pull多出新的空提交解决方法：`git config --global pull.rebase true`对本地进行变基操作就可`git pull`和远程保持同步且不会产生新的空提交

git 查看`指定文件的指定代码`是由谁`增、删、改`

*   `git log -S <string> path/to/file`

*   `git log -G <regex> path/to/file`  正则表达式

### git 图形化显示

*   `gitk --all`：推荐配合[SSH 显示图形化界面](#ssh-%E6%98%BE%E7%A4%BA%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%95%8C%E9%9D%A2)使用会很舒服
    
*   `git log --graph`
    
    ```shell
    git log --graph --oneline # 图形化显示当前分支的提交日志
    git log --graph --patch # 图形化显示当前分支的提交日志及每次提交的变更内容
    git log --graph --oneline --all # 图形化显示所有分支的提交日志
    git log --graph --patch --all # 图形化显示所有分支的提交日志及每次提交的变更内容
    ```

### 常见问题

* 问题1

  ```c
  diff --git a/BBA2.5_platform/sysfiles/web/en_2.0/common_gpon/main/gponStat.htm b/BBA2.5_platform/sysfiles/web/en_2.0/common_gpon/main/gponStat.htm
  old mode 100644
  new mode 100755
  ```

  ```c
  解决：
      切换到项目根目录
      git config --add core.filemode false
  ```

* 问题2

  ```c
  $ git clone ssh://jiangkainan@172.29.88.140:29418/BBA_2_5_Platform_BCM && scp -p -P 29418 jiangkainan@172.29.88.140:hooks/commit-msg BBA_2_5_Platform_BCM/.git/hooks/
  Cloning into 'BBA_2_5_Platform_BCM'...
  Enter passphrase for key '/c/Users/admin/.ssh/id_rsa.pub':
  fatal: Could not read from remote repository.
  
  Please make sure you have the correct access rights
  and the repository exists.
  ```
  
  ```c
  解决：
      eval `ssh-agent` && ssh-add
  ```
  
* 问题3
  ```git
  正克隆到 'BBA_2_5_Platform_BCM'...
  Load key "/root/.ssh/id_rsa.pub": invalid format
  jiangkainan@172.29.88.140: Permission denied (publickey).
  fatal: 无法读取远程仓库。
  请确认您有正确的访问权限并且仓库存在。
      
    
  正克隆到 'BBA_2_5_Platform_BCM'...
  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  @         WARNING: UNPROTECTED PRIVATE KEY FILE!          @
  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  Permissions 0010 for '/root/.ssh/id_rsa.pub' are too open.
  It is required that your private key files are NOT accessible by others.
  This private key will be ignored.
  Load key "/root/.ssh/id_rsa.pub": bad permissions
  jiangkainan@172.29.88.140: Permission denied (publickey).
  fatal: 无法读取远程仓库。
  请确认您有正确的访问权限并且仓库存在。

  ```
  
  ```c
  vim /root/.bashrc 添加下面两条指令：
  eval `ssh-agent` && ssh-add
  ```

### 解决换行符问题

```c
git config --global core.eol lf   //设置换行符为LF
git config --global core.autocrlf false  // 关闭CRLF、LF的自动转换功能
git config --global core.safecrlf true   // 不允许提交时包含不同的换行符
```

### push注意

```c
git diff --stat // 确认要提交代码的文件有哪些
git stash --patch save stash名 // 如果printf调试信息过多可以先提取到stash里面，以便后续需要的时候还可以取出来
git add --patch 文件名 // 可以多次执行来确保没有漏掉的提交
    y：暂存
    n：不暂存
    s：大块分割成小块
    e：手动编辑当前块 //修改只会影响暂存区准备提交的内容，不会影响到工作区的文件
git diff --stat // 确认有没有遗漏未提交的信息
git diff --cached  // 比较暂存区和仓库内容


本地commit代码，并将需要保存但不需要提交的printf调试信息存放到stash
git reset回退到和网上的分支保持一致的提交
git pull拉取最新的代码
git cherry-pick 将本地的提交用摘樱桃的方式提取出来
git push推送
```

### git fetch失败

```c
[/opt/bba/BBA_2_5_Platform_Tender]#git fetch http://jiangkainan@172.29.88.140:8082/a/BBA_2_5_Platform_BCM refs/changes/69/20369/4 && git cherry-pick FETCH_HEAD
Password for 'http://jiangkainan@172.29.88.140:8082': 
remote: Unauthorized
fatal: 'http://172.29.88.140:8082/a/BBA_2_5_Platform_BCM/' 鉴权失败
    
解决：
    使用ssh协议而不是http协议下载代码
[/opt/bba/BBA_2_5_Platform_Tender]#git fetch ssh://jiangkainan@172.29.88.140:29418/BBA_2_5_Platform_BCM refs/changes/69/20369/4 && git cherry-pick FETCH_HEAD
```

```c
来自 ssh://172.29.88.140:29418/BBA_2_5_Platform_BCM
 * branch                refs/changes/69/20369/4 -> FETCH_HEAD
error: 您的本地修改将被拣选覆盖。
提示：提交您的修改或贮藏后再继续。
fatal: 拣选失败
    
解决：
    用git status -uno看看是否有暂存区的提交
    有则用git restore --staged 取消暂存区的提交
```



### git pull、git stash apply冲突

```c
error: 您对下列文件的本地修改将被合并操作覆盖：
        platform/apps/private/user/clibs/cmm_lib/osAbstr/linux/src/oal_wifi_bcm.c
        platform/apps/private/user/cos/cos.c
        platform/apps/private/user/cos/cos_passive.c
请在合并前提交或贮藏您的修改。
终止中
```

```markdown
原因分析：
    一般clone项目后都会加上chmod赋予777的权限，
    虽然使用git config --add core.filemode false忽略了的文件模式的改变，并且在git diff的时候不予显示
    但实际上还是发生改变了的，所以才要求你保存现有的改变后再pull或者apply
    
git stash apply冲突：
    用``` git stash push --patch -m "log" 1.c// 选择指定文件的部分内容添加到stash ```保存修改后rm冲突文件
    
git pull冲突解决方法1：
    本地commit代码，并将需要保存但不需要提交的printf调试信息存放到stash，
    reset回退到和网上的分支保持一致的提交，然后再pull最新代码，
    最后使用git cherry-pick 将本地的提交用摘樱桃的方式提取出来
    
git pull冲突解决方法2：
	[git fetch和git pull之间的区别](https://blog.csdn.net/a19881029/article/details/42245955)
	git fetch -f 拉取最新代码（不合并）
	git reset remotes/origin/EX220_USSP_v1.2 (将HEAD指针指向最新的代码提交)
	git reset --hard HEAD（检索出最新文件）
	git branch && git pull -f && git log （验证是否有问题）
```

### git stash

```c
注意：stash报错的是工作区在仓库HEAD的基础上的修改内容，
git diff --stat HEAD// 确定要暂存的文件有哪些
git stash push --patch -m "指定文件" 1.c// 选择指定文件的部分内容添加到stash
git stash list
git stash drop stash索引
git stash clear // 清空所有stash
    
恢复<<git diff stash@{0}>>中的部分修改
    // 准备工作
    git status //确保工作区没有为未add的修改，如果有就要先add到暂存区
    git stash show stash@{0} //再次确认修改的文件有哪些
    git stash show -p stash@{0} // 确认stash中保存的diff内容
    git diff 【--stat】 stash@{0} 文件名 // 确定工作区在暂存区的基础上修改了什么
        
    // apply stash
	git stash apply  //注意：因为执行apply成功后工作区必然会被修改，再次执行apply时就会因为工作区有未add的修改导致执行失败，所以apply命令不能反复执行
    git status
    git diff --stat HEAD
    git reset HEAD // 清空暂存区
    git diff --stat HEAD
    git status
    
        
    // push 自己需要的部分修改到stash
    git stash push --patch -m "指定文件" 1.c// 选择指定文件的部分内容添加到stash // 选择部分文件添加到stash
        
    // apply 部分修改的stash
    git reset --hard HEAD
    git stash apply
        
    // 分别比较仓库、stash，工作区、stash来判断stash中的文件是否恢复成功
    git diff 【--stat】 HEAD stash@{0} platform/apps/private/user/cos/cos_gpio.c
    git diff 【--stat】 stash@{0} platform/apps/private/user/cos/cos_gpio.c
    

    
```



### git 加速

*   ```markdown
    git config --global core.preloadIndex true
    git config --global pack.deltaCachesize 0
    git config --global pack.deltaCacheLimit 65535
    git config --global core.compression 0
    git config --list
    
    **注意**
    	尽可能不要使用
    	git diff HEAD（工作区比仓库）这个太卡了，用
    	git diff（工作区比暂存区）、
    	git diff --ceched（暂存区比仓库）来曲折实现上面的功能
    ```

    ```markdown
    [参考链接](https://git-scm.com/docs/git-config#Documentation/git-config.txt-packdeltaCacheSize)
    core.preloadIndex
    Enable parallel index preload for operations like git diff
    This can speed up operations like git diff and git status especially on filesystems like NFS that have weak caching semantics and thus relatively high IO latencies. When enabled, Git will do the index comparison to the filesystem data in parallel, allowing overlapping IO’s. Defaults to true.
    
    pack.deltaCacheSize
    The maximum memory in bytes used for caching deltas in git-pack-objects[1] before writing them out to a pack. This cache is used to speed up the writing object phase by not having to recompute the final delta result once the best match for all objects is found. Repacking large repositories on machines which are tight with memory might be badly impacted by this though, especially if this cache pushes the system into swapping. A value of 0 means no limit. The smallest size of 1 byte may be used to virtually disable this cache. Defaults to 256 MiB.
    
    pack.deltaCacheLimit
    The maximum size of a delta, that is cached in git-pack-objects[1]. This cache is used to speed up the writing object phase by not having to recompute the final delta result once the best match for all objects is found. Defaults to 1000. Maximum value is 65535.
    
    core.compression
    An integer -1..9, indicating a default compression level. -1 is the zlib default. 0 means no compression, and 1..9 are various speed/size tradeoffs, 9 being slowest. If set, this provides a default to other compression variables, such as core.looseCompression and pack.compression.
    ```




## Graphviz

* 指令集

  ```c
  xdg-open bus.png
  circo -T png first.dot -o first.png
      
  digraph st2{
    fontname = "Verdana";
    fontsize = 10;
    rankdir=TB;
    
    node [fontname = "Verdana", fontsize = 10, color="skyblue", shape="record"];
    
    edge [fontname = "Verdana", fontsize = 10, color="crimson", style="solid"];
    
    st_hash_type [label="{<head>st_hash_type|(*compare)|(*hash)}"];
    st_table_entry [label="{<head>st_table_entry|hash|key|record|<next>next}"];
    st_table [label="{st_table|<type>type|num_bins|num_entries|<bins>bins}"];
    
    st_table:bins -> st_table_entry:head;
    st_table:type -> st_hash_type:head;
    st_table_entry:next -> st_table_entry:head [style="dashed", color="forestgreen"];
  }
  ```

* [使用graphviz绘制流程图](https://www.mobibrw.com/2017/7599)  [离线网页](file:///D:/0-attachment/graphviz/%E4%BD%BF%E7%94%A8graphviz%E7%BB%98%E5%88%B6%E6%B5%81%E7%A8%8B%E5%9B%BE%20%E2%80%93%20%E9%BB%98%E9%BB%98%E7%9A%84%E7%82%B9%E6%BB%B4%20(2020-06-05%20%E4%B8%8B%E5%8D%888_19_24).html)

* [十分钟学会graphviz画图](https://www.jianshu.com/p/6d9bbbbf38b1) [离线网页](D:\0-attachment\graphviz\十分钟学会graphviz画图 - 简书 (2020-06-05 下午8_23_00).html)

* [(转)使用graphviz绘制流程图（2015版）](https://blog.csdn.net/zyb418/article/details/86229083) [离线网页](D:\0-attachment\graphviz\(转)使用graphviz绘制流程图（2015版）_zyb418的专栏-CSDN博客 (2020-06-05 下午8_25_35).html) 

* [Graphviz入门](https://www.cnblogs.com/born2run/p/9581386.html) [离线网页](D:\0-attachment\graphviz\Graphviz入门 - MarvinChan - 博客园 (2020-06-06 下午4_34_58).html)


## Make

* make的目标文件要比依赖文件新，如果目标文件不存在或者目标文件比依赖文件旧就会执行目标文件下编写的规则，因为伪目标永远不存在，所以为伪目标下对应的规则永远都会被执行。

### 加速编译

[如何加速Linux下的编译速度（加速make）](https://blog.csdn.net/wwwlyj123321/article/details/81946522)

*   使用ccache会导致编译kernel时报错，将cached创建的四个符号链接删除掉编译就正常了，目前还未找到原因是什么
    *   [ccache源码编译安装](https://my.oschina.net/ajebs/blog/1554199)
    *   `man ccache`里面有创建四个符号链接的方法
    *   `watch ccache -s`可查看命中情况
*   make -j并行编译不能用的原因：[make 多线程编译会出错么？](https://www.zhihu.com/question/265231471)

*   因为生成的中间文件本来就不再build路径下，所以将build文件夹放到内存也没有用，除非将整个项目都放到内存上
*   多个机器协同工作又没有那个条件

## Menuconfig

* config.ini
  * menuconfig的配置文件，menuconfig显示的内容以及判断宏之间的依赖关系都是直接从这里面读取。
* config.bba
  * 不要直接手动编辑，要使用menuconfig进行配置，因为可能存在一些在config.ini中定义的依赖关系
* 新增config.bba、config.sdk宏的方法
  * 修改config.ini将新增的宏仿照其他的宏添加进去
  * 执行menuconfig打开相应的宏开关
* 快捷键
  * `/`:搜索
  * ctrl+退格：删除
  * 空格：选中、取消选中
* 注意：
  * menuconfig中显示的是config.ini中Prompt中的内容

## OpenGrok

*   搭建

    *   [opengrok/docker](https://hub.docker.com/r/opengrok/docker)

    *   [Opengrok(一): 享受源码大餐之前，先准备好自己的刀叉](https://zhuanlan.zhihu.com/p/112795531)

    *   [搭建大型源码阅读环境——使用 OpenGrok](https://zhuanlan.zhihu.com/p/24369747)

    *   [Vim 8 中 C/C++ 符号索引：GTags 篇](https://zhuanlan.zhihu.com/p/36279445)
    
    *   [有哪些不错的大型项目代码浏览工具？](https://www.zhihu.com/question/33505693)
    
    *   <span id="#time_issue">
            <a href="https://class.pub/blog/post/haiyang/34-x">34-搭建最新版本opengrok的详细流程及说明 - Ronny Public Class</a>
        </span>
    
    *   ```shell
        mkdir -p /home/opengrok/src /home/opengrok/data /home/opengrok/etc
        docker search opengrok
        docker pull opengrok/docker
    docker images
        docker run -d --dns 172.31.1.1 -p 50005:22 -p 8089:8080/tcp --name opengrok -e REINDEX=0 -v /home/opengrok/src/:/opengrok/src/  -v /home/opengrok/data/:/opengrok/data/ -v /home/opengrok/etc/:/opengrok/etc/  -v /etc/localtime:/etc/localtime:ro opengrok/docker:latest
        #进入后台运行的docker
        docker exec -it opengrok bash 
        # 同步时间 Asia->Shanghai
        dpkg-reconfigure tzdata 
        # 配置ssh，opengrok会自动拉取最新代码
        		# 主机
                cp -rf ~/.ssh/ /home/opengrok/src  
                # 容器
                rm -rf ~/.ssh
                mv /opengrok/src/.ssh/ ~/
                chmod 000 ~/.ssh/id_rsa
                chmod 000 ~/.ssh/config
        # 在docker的index.sh脚本中添加如下代码保证能够正常git pull拉取最新代码
        nano /scripts/index.sh
        eval `ssh-agent` && ssh-add
                
        
        	
        # 明天定时更新索引
        vim /etc/crontab 
        0  9  * * * root  sudo bash opengrok_update_index_script.sh的绝对路径
        0 10  * * * root  sudo bash opengrok_update_index_script.sh的绝对路径
        0 11  * * * root  sudo bash opengrok_update_index_script.sh的绝对路径
        0 12  * * * root  sudo bash opengrok_update_index_script.sh的绝对路径
        0 14  * * * root  sudo bash opengrok_update_index_script.sh的绝对路径
        0 15  * * * root  sudo bash opengrok_update_index_script.sh的绝对路径
        0 16  * * * root  sudo bash opengrok_update_index_script.sh的绝对路径
        0 17  * * * root  sudo bash opengrok_update_index_script.sh的绝对路径
        0 18  * * * root  sudo bash opengrok_update_index_script.sh的绝对路径
        0 19  * * * root  sudo bash opengrok_update_index_script.sh的绝对路径
        0 20  * * * root  sudo bash opengrok_update_index_script.sh的绝对路径
        ```

*   检查是否有新的提交来判断是否更新索引的脚本，可以直接放到`/etc/crontab`中定时执行

    ```shell
    https://github.com/xiangshuijiao/md/blob/master/opengrok_update_index_script.sh
    ```

    

## Samba

* 图形化界面配置（Ubuntu1204）

  * `apt-get install samba samba-common smbfs cifs-utils system-config-samba`
      * **注意：**Ubuntu1804只需要安装`apt-get install samba samba-common system-config-samba`即可
  * `touch /etc/libuser.conf`
  * 普通账户输入`sudo system-config-samba`选择`Access-》allow access to everyone`
  * `setfacl -R -m u:nobody:rwx /home`给所有用户读、写、可执行权限

* 命令行配置

  * [Ubuntu 16.04安装配置Samba服务 - wbaction的博客 - CSDN博客_2](D:\0-attachment\Ubuntu 16.04安装配置Samba服务 - wbaction的博客 - CSDN博客_2.mhtml)
  * 将配置文件中的user改为自己的用户名jiangkainan
  * 配置文件中加入：writable     = yes
  * 最后要给共享目录输入权限：sudo     chmod -R 777 /home/jiangkainan
  * `watch -n 15 chmod     777 -R /home/bba & ` 每10秒给一次可执行权限，可放到开机自启脚本`/etc/rc.local`里面

  ```makefile
  [share]
  comment = Share Folder require password
  browseable = yes
  path = /home/tplink/code
  create mask = 0777
  directory mask = 0777
  valid users = tplink
  force user = nobody
  force group = nogroup
  public = yes
  writable = yes
  available = yes
  ```

## Source insight

*   [调试逆向[原创]Windows逆向学习笔记——破解Source Insight 4 ](https://bbs.pediy.com/thread-261478.htm) 
*   不能打开samba目录，报错为`not a valid directory T:`
    *   解决：不要映射网络驱动器，直接使用`\\pc3.jkn\bba`的路径

## Shell

执行变量中存放的命令

*   ```shell
    v2="ls -al /root"
    echo ${v2} |awk '{run=$0;system(run)}' # $0为整行，把整行内容赋值给run变量然后system(run)
    ```

数组传参

*   ```shell
    function showArr(){
        arr=$1
        for i in ${arr[*]}; do
            echo $i
        done
    }
    regions=("GZ" "SH" "BJ")
    showArr "${regions[*]}"
    ```


[循环获取参数：从第三个参数开始](https://blog.csdn.net/m0_37886429/article/details/89280852)

*   ```shell
    i=3;
    while (( i <= $# ))
    do
    # 间接引用! 直接 $1 这样处理会出问题，不加 ! ，输出的就是数字!??因为外面的参数是 i 的值，而我们需要使用i,需要 ! 间接引用!
    echo ${!i}; 
    let i++;
    # (( i++ ))  (( )) 的运算速度快一些!?
    done
    ```

*   

## SSH 

### [nohup 解决Linux关闭终端（关闭SSH等）后运行的程序或者服务自动停止【后台运行程序】](https://segmentfault.com/a/1190000011289092)

*   `sudo nohup bash 脚本路径 >> /tmp/nohup.log 2>&1 </dev/null &` 指定输出文件

### SSH 显示图形化界面

[VcXsrv+putty远程访问linux图形界面](https://blog.csdn.net/jdzzgtc/article/details/86588537)

*   **注意1**：配置secureCRT时需要将`Connection->Port Forwarding->Remote/X11->Forward X11 packets->Enforce X11 authentication`中的Display修改为`192.168.137.1:0.0`，这个地址必须要让服务器能ping通，否则服务器不知道把图形界面转发给谁。
*   **注意2**：docker中另外还需要定义下面的变量`export DISPLAY=192.168.137.1:0.0`并写死到`~/.bashrc`中
*   **注意3**：连接ssh的电脑`192.168.137.243`可以和显示X11界面的电脑`192.168.137.1`不是同一台电脑，因为`192.168.137.1`电脑的显示器是U2417H的高清显示器，所以就讲X11的界面放到这台电脑上面了
*   开机启动：参考本文链接：[查看进程启动时的参数](#%e6%9f%a5%e7%9c%8b%e8%bf%9b%e7%a8%8b%e5%90%af%e5%8a%a8%e6%97%b6%e7%9a%84%e5%8f%82%e6%95%b0)

### WinSCP：linux 和电脑互传文件



## TCPDump

*    [Linux基础：用tcpdump抓包](https://www.cnblogs.com/chyingp/p/linux-command-tcpdump.html)
*    [Linux tcpdump命令详解](https://www.cnblogs.com/ggjucheng/archive/2012/01/14/2322659.html&sa=U&ved=2ahUKEwits43f0OzrAhVBHzQIHVUsAGEQFjAAegQIBBAB&usg=AOvVaw1DmMDp3SljpnxgHa19WUre)

## Telnet

* secureCRT就有Telnet功能，连接后输入密码`admin`、`sh`命令 
* 或者cmd输入`telnet 192.168.1.1`进入Telnet（要在windows服务中开启Telnet功能）
* telnet使用命令：`prolinecmd restore default`恢复出厂设置，Jio样机没有恢复出厂设置会有相应的led灯闪烁，恢复后就不会闪烁了。
* 一般telnet中输入sh（shell）就可以进入管理员模式

## TFTP

* 问题1

  ```c
  tftp总是传输到一半终止，
  或者一个tftp传输命令却在服务端建立了多个传输进度为0的连接
  或者在客户端体现为出现多个T也就是建立了多个tftp的连接传输进度却都是0
      
  解决：
      问题出在你使用的交换机上面有一个自己的默认的静态IP：192.168.0.1，你需要将它的IP设置为自动获取而不是静态IP
  ```

* 问题2

  ```c
  tftp请求没有任何响应
      
  解决：
      尝试1：关闭防火墙
      尝试2：这是双网卡的问题导致的，将另一个和tftp传输无关的网卡禁用掉，重启服务器即可
      
  ```

* 问题3

    ```
    tftp 192.168.1.200 -gr networkMap.htm 
    tftp: server error: (256) Access to networkMap.htm denied
    
    不要以管理员权限运行tftp服务器
    只能用普通权限运行tftp服务器
    ```

    



## Ubuntu

### 查看当前目录下各个文件、文件夹大小

* `du -ah --max-depth=1`

### 查看端口占用

* `netstat -ano | findstr 21`

### 查看ID对应进程

* `tasklist | findstr 21552` 

### 终端颜色配置

* 普通模式 `PS1="\[\e[30;40m\][\u@\W \T]\\$\[\e[0m\]"`
* 管理员模式`PS1="\[\e[31;47m\][\w]\\$\[\e[0m\]"`
* [修改Linux终端命令提示符颜色、PS1 - 心之所向，不负初衷 - CSDN博客_2](file:///D:/0-attachment/修改Linux终端命令提示符颜色、PS1 - 心之所向，不负初衷 - CSDN博客_2.mhtml)

### Ubuntu1804开机启动

[Ubuntu Server 18.04 LTS 开机自动启动脚本 SVN自动启动 rc.local](https://zhuanlan.zhihu.com/p/56020157)

*   **注意：**要额外执行以下两条命令

    ```shell
    chmod +x /etc/rc.local
    systemctl daemon-reload
    ```

### 定时任务脚本

`vim /etc/crontab `

`service cron status`

` /var/log/syslog`会记录crontab任务是否被执行情况，但无法看到执行结果，所以还是推荐将执行结果用`>>`追加的方式写入文件`/tmp/jkn.txt`

```shell
[/home/bba]#cat /etc/crontab
0 19  * * * root  docker exec opengrok /scripts/index.sh >> /tmp/opengrok.log 
0 20  * * * root  docker exec opengrok /scripts/index.sh >> /tmp/opengrok.log

0  9  * * * root  sudo bash /etc/jkn.script.runs.regularly/09.12.17.20.script  
0 12  * * * root  sudo bash /etc/jkn.script.runs.regularly/09.12.17.20.script
0 17  * * * root  sudo bash /etc/jkn.script.runs.regularly/09.12.17.20.script
0 20  * * * root  sudo bash /etc/jkn.script.runs.regularly/09.12.17.20.script
```



### Archer T9E网卡驱动安装

`apt install bcmwl-kernel-source`

### 重装系统

[ubuntu 18.04/16.04/14.04 双硬盘分区方案](https://blog.csdn.net/u010801439/article/details/80485251)

[三种方法修改docker的默认存储位置](#[三种方法修改docker的默认存储位置](https://blog.csdn.net/BigData_Mining/article/details/104921479))

[Ubuntu1804开机启动](#Ubuntu1804开机启动)

[SSD安装ubuntu系统的优化](https://blog.csdn.net/hzwwpgmwy/article/details/80313272)

*   [Ubuntu使用SSD需要做的配置和优化](http://blog.sina.com.cn/s/blog_6cc181070101rty5.html)
*   [prelink加速的配置](https://www.geek-share.com/detail/2547147141.html)
*   [怎么查看SATA硬盘是否处于AHCI开启状态?](http://ask.zol.com.cn/x/3008824.html)

[Ubuntu定时任务脚本](#Ubuntu定时任务脚本)：下面为每天九点定时执行的脚本

*   [Linux crontab 输出重定向不生效问题解决、重定向到文件不生效的解决方法](https://blog.csdn.net/mengalong/article/details/83578738)：重定向命令的末尾加上` 2>&1 </dev/null `

    *   [Shell重定向 ＆>file、2>&1、1>&2 、/dev/null的区别](https://blog.csdn.net/u011630575/article/details/52151995)
    *   0：标准输入，1：标准输出，2：错误输出

*   ```shell
    #!/bin/sh
    
    logpath=/tmp/jkn.script.runs.regularly.log
    
    date >> $logpath 2>&1 </dev/null 
    
    sudo fstrim -v / >> $logpath 2>&1 </dev/null 
    sudo fstrim -v /boot >> $logpath 2>&1 </dev/null 
    /usr/sbin/prelink -afmR >> $logpath 2>&1 </dev/null 
    
    date >> $logpath 2>&1 </dev/null
    ```

### 终端切换其他用户`su - 用户名`

### 网络分析工具

[LinSSID：一款Linux下的图形化Wi-Fi扫描器](https://linux.cn/article-5120-1.html)

[Sparrow-WiFi：一款Linux平台下的图形化WiFi及蓝牙分析工具](https://www.bbsmax.com/A/q4zVKKp7JK/)

[是否有用于ubuntu的wifi分析器之类的工具？](https://qastack.cn/ubuntu/237777/is-there-a-tool-like-wifi-analyzer-for-ubuntu)

### 查看实时变化的文件`tail -f`

## Vim

* `:setlocal nowrap `当前文档设置为不自动换行

* `:set mouse=r `解决不能在secureCrt中使用vim选中复制的问题，[完美解决vim在终端不能复制的问题](https://www.cnblogs.com/cheerupforyou/p/6958695.html)

* `:set paste`解决**粘贴缩进问题**

* Spacevim

    ```shell
    curl -sLf https://spacevim.org/install.sh | bash -s -- --install vim # 下载
    vim中执行:VimProcInstall #原因：https://www.cnblogs.com/zhuxiaoxi/p/8466846.html
    cp -rf /opt/docker/spacevim/.SpaceVim.d/ ~/   #修改主题配置：colorscheme = "SpaceVim"  colorscheme_bg = "light"
    vim ~/.SpaceVim/vimrc 末尾添加如下配置
    	:set mouse=r
    ```

    

## VMware Station

### 虚拟机和主机之间不能复制粘贴

* `虚拟机设置-》选项-》客户机隔离-》启用复制粘贴、启用拖放`先关闭再打开
* 或者也可以重装Vmware-tool

## Win10

### 防火墙

*   无线客户端ping不通和自己在同一个网段的电脑
    *   将防火墙**`入栈规则`**中所有的**`文件和打印机共享(回显请求 - ICMPv4-In)`**全部都启用即可
*   外网无法访问DMZ主机中的共享文件夹
    *   将所有的防火墙**`入栈规则`**全部都启用即可 

### 双网卡

* 内网或192.168.1.1访问失败
* 原因在于两个网卡有两个默认网关
  * 将网卡2的默认网关设为空
  * route -4 print   && route
  * route -p add 192.168.1.0 mask 255.255.255.0 192.168.1.1 metric 3 if 16

### 查看进程启动时的参数

cmd窗口运行`wmic process where caption="vcxsrv.exe" get caption,commandline /value`可以获取`vcxsrv.exe`进程的启动参数，然后给进程`vcxsrv.exe`创建快捷方式并在属性中添加启动参数放到`startup`开机自启动菜单就可以实现开机运行带参数的进程，进程参数的内容可以使用刚刚提到的命令获取。

## Xmind

*   拖动画布
    *   mac下 鼠标中键空白处 按住滚轮可实现抓手
    *   window下 鼠标右键空白处 按住右键可实现抓手

